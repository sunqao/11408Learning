# 数据结构（5）：二叉排序树和平衡树

## 二叉排序树

中序遍历有序的二叉树称为二叉排序树，也叫做二叉搜索树（BST），**递归定义：**每个结点的左子树所有结点都小于这个结点，每个结点的右子树所有结点都大于这个结点

这里只讨论左右结点都严格小于和大于父节点的情况，相等情况类似，可以归到左节点也可以归到右节点

### 二叉排序树的操作：

二叉搜索树有三个操作：插入，删除，查找，这三个操作的时间复杂度都是`O(h)`的，`h`是二叉排序树的高度

**插入操作：**

从根节点开始，假如插入的这个值`x`小于当前结点，则插入到左子树，否则插入到右子树

这样的操作保证插入的这个结点一定在叶节点上，且每次比较都可以保证当前结点满足递归定义，因此插入完成之后整个树仍然是二叉排序树

**删除操作：**

如果删除的这个结点是叶结点，则直接删除

如果删除的这个结点只有左子树或者只有右子树，则用这个结点的左子树的根节点或者右子树的根节点替代这个结点即可，删除的这个结点的子树的结构没有改变，且剩下的结点也满足二叉排序树的定义，因此整个树仍是二叉排序树

如果删除的这个结点既有左子树也有右子树，假设这个结点是`A`，那么将整个树的中序遍历的结果中`A`的前驱的值复制到`A`的位置，并删掉`A`的前驱，这样操作后二叉树的中序遍历的结果仍然是有序的，结果仍是二叉树排序树；`A`的前驱从树的结果上来看就是`A`的左子树中的最大的结点；左子树最大的那个结点一定是遍历左子树一直向右直到某个结点没有右子树，此时这个结点就是左子树的最大结点，此时我们递归删除这个结点即可（这个结点也分两种情况，有左子树或者没有左子树）

**查找操作：**

假如查找的值是`x`，如果`x`小于当前结点，查找左子树，如果`x`大于当前结点，查找右子树

**代码实现：**

![image-20240129214040257](https://typora-1310242472.cos.ap-nanjing.myqcloud.com/typora_img/image-20240129214040257.png)

```cpp
```



